"use strict";window.onload=()=>{const body=document.body;const splash=document.querySelector("#splash");const loader=document.querySelector(".loader");const ms=1000;setTimeout(()=>{loader.classList.add("loaded")},1200);setTimeout(()=>{loader.style.display="none"},ms+10);setTimeout(()=>{splash.classList.add("splashed");body.classList.add("appear")},1500)};let cursor=document.querySelector(".cursor"),follower=document.querySelector(".follower"),cWidth=8,fWidth=40,delay=10,mouseX=0,mouseY=0,posX=0,posY=0;TweenMax.to({},0.001,{repeat:-1,onRepeat:function(){posX+=(mouseX-posX)/delay;posY+=(mouseY-posY)/delay;TweenMax.set(follower,{css:{left:posX-fWidth/2,top:posY-fWidth/2,},});TweenMax.set(cursor,{css:{left:mouseX-cWidth/2,top:mouseY-cWidth/2,},})},});document.addEventListener("mousemove",function(e){mouseX=e.pageX;mouseY=e.pageY});const anchors=document.querySelector("a");anchors.addEventListener("mouseenter",function(){cursor.addClass("is-active");follower.addClass("is-active")});anchors.addEventListener("mouseleave",function(){cursor.removeClass("is-active");follower.removeClass("is-active")});const menuToggle=document.querySelector(".menu-toggle");const drawerNavi=document.querySelector(".l-drawer-nav");const drawerNaviLink=document.querySelector(".l-drawer-nav__link");menuToggle.onclick=function(){this.classList.toggle("active");drawerNavi.classList.toggle("open")};drawerNaviLink.onclick=function(){menuToggle.classList.remove("active");this.classList.remove("open")};const visualSwiper=new Swiper(".swiper01",{effect:"fade",fadeEffect:{crossFade:!0,},loop:!0,loopAdditionalSlides:1,speed:2000,autoplay:{delay:7000,disableOnInteraction:!1,waitForTransition:!1,},followFinger:!1,});const mySpeed=8000;const slideLength=document.querySelectorAll(".swiper02 .swiper-slide").length;const changeTranslate=(swiper)=>{let currentTranslate=swiper.getTranslate();let slideWidth=document.querySelector(".swiper02 .swiper-slide-active").offsetWidth;swiper.setTranslate(currentTranslate-slideWidth);swiper.setTransition(mySpeed)};const initSwiper=()=>{const mySwiper=new Swiper(".swiper02",{slidesPerView:"auto",spaceBetween:16,loop:!0,loopedSlides:slideLength,speed:mySpeed,autoplay:{delay:0,disableOnInteraction:!1,},freeMode:{enabled:!0,momentum:!1,},grabCursor:!0,breakpoints:{1025:{spaceBetween:32,},},on:{touchEnd:(swiper)=>{changeTranslate(swiper)},},})};window.addEventListener("load",function(){initSwiper()});const myDelay=7000;let timer;const switchAnimation=()=>{clearTimeout(timer);let activeSlide=document.querySelectorAll(".p-nara__visual--slide .swiper-slide[class*=-active]");for(let i=0;i<activeSlide.length;i++){activeSlide[i].classList.remove("anm-finished");activeSlide[i].classList.add("anm-started")} timer=setTimeout(()=>{for(let i=0;i<activeSlide.length;i++){activeSlide[i].classList.remove("anm-started");activeSlide[i].classList.add("anm-finished")}},myDelay-1000)};const finishAnimation=()=>{let activeSlide=document.querySelectorAll(".p-nara__visual--slide .swiper-slide.anm-started");for(let i=0;i<activeSlide.length;i++){activeSlide[i].classList.remove("anm-started");activeSlide[i].classList.add("anm-finished")}};const mySwiper=new Swiper(".p-nara__visual--slide .swiper03",{effect:"fade",fadeEffect:{crossFade:!0,},loop:!0,loopAdditionalSlides:1,speed:2000,autoplay:{delay:myDelay,disableOnInteraction:!1,waitForTransition:!1,},followFinger:!1,pagination:{el:".p-nara__visual--slide .swiper-pagination",clickable:!0,},on:{slideChange:()=>{finishAnimation()},slideChangeTransitionStart:()=>{switchAnimation()},},})